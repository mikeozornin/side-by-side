# Docker Compose Environment Configuration
# Generated by Ansible

# Application Configuration
NODE_ENV=production
PORT=3000
BASE_URL=https://{{ domain }}

# Database Configuration
DB_PROVIDER=sqlite
DB_PATH=/var/app/data/app.db

# URLs
VOTING_BASE_URL=https://{{ domain }}
CLIENT_URL=https://{{ domain }}
SERVER_MODE=production

# Authentication
AUTH_MODE=magic-links
AUTO_APPROVE_SESSIONS=false
JWT_SECRET={{ jwt_secret | default('change-me-in-production') }}

# Notifications
NOTIFICATIONS_LOCALE=ru
WEB_PUSH_ENABLED=false
MATTERMOST_ENABLED=false
TELEGRAM_ENABLED=false

# Rate Limiting
RATE_LIMIT_VOTING_PER_MINUTE=6
RATE_LIMIT_VOTING_PER_HOUR=60
RATE_LIMIT_AUTH_MAGIC_LINK_PER_MINUTE=5
RATE_LIMIT_AUTH_VERIFY_TOKEN_PER_MINUTE=5

# SMTP Configuration
SMTP_HOST={{ smtp_host | default('') }}
SMTP_PORT={{ smtp_port | default('587') }}
SMTP_USER={{ smtp_user | default('') }}
SMTP_PASS={{ smtp_pass | default('') }}
SMTP_FROM_EMAIL={{ smtp_from_email | default('noreply@' + domain) }}

# Storage Configuration
STORAGE_DRIVER=local
S3_ENDPOINT={{ s3_endpoint | default('') }}
S3_REGION={{ s3_region | default('us-east-1') }}
S3_BUCKET={{ s3_bucket | default('side-by-side') }}
S3_ACCESS_KEY_ID={{ s3_access_key_id | default('') }}
S3_SECRET_ACCESS_KEY={{ s3_secret_access_key | default('') }}
S3_FORCE_PATH_STYLE={{ s3_force_path_style | default('true') }}

# Docker Hub Configuration
DOCKER_HUB_USERNAME={{ docker_hub_username }}
DOMAIN={{ domain }}
